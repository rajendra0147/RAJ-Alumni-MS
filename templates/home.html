<!-- ./templates/home.html -->
{% extends "layout.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Welcome to the Alumni Management System</h1>
    
    {% if current_user.is_authenticated %}
        <p>Hello, {{ current_user.username }}! Welcome back.</p>
    {% else %}
        <p>Welcome! Please <a tabindex="0" href="{{ url_for('login') }}" class="btn btn-link" >log in</a> or <a tabindex="0" href="{{ url_for('register') }}" class="btn btn-link">register</a> to get started.</p>
    {% endif %}
    
    <h2 class="mt-5">Upcoming Events</h2>
    {% if upcoming_events %}
        <ul class="list-group mb-4">
            {% for event in upcoming_events %}
                <li class="list-group-item">
                    <h3 class="mb-1">{{ event.title }}</h3>
                    <p class="mb-1">{{ event.date.strftime('%B %d, %Y') }} at {{ event.location }}</p>
                    <p class="mb-1">{{ event.description }}</p>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No upcoming events.</p>
    {% endif %}
    
    <h2 class="mt-5">Recent Discussions</h2>
    {% if recent_discussions %}
        <ul class="list-group mb-4">
            {% for discussion in recent_discussions %}
                <li class="list-group-item">
                    <h3 class="mb-1">{{ discussion.topic }}</h3>
                    <p class="mb-1">by {{ discussion.author }} in {{ discussion.category }}</p>
                    <p class="mb-1">{{ discussion.content }}</p>
                    <a tabindex="0" href="{{ url_for('view_discussion', discussion_id=discussion.id) }}" class="btn btn-primary btn-sm">Read more</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No recent discussions.</p>
    {% endif %}
</div>
{% endblock %}
